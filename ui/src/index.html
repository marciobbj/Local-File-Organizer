<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Local File Organizer</title>
    <link rel="stylesheet" href="styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
</head>
<body>
    <!-- Screen 1: Welcome Screen -->
    <div id="welcome-screen" class="screen active">
        <div class="welcome-container">
            <div class="logo-section">
                <i class="fas fa-folder-tree logo-icon"></i>
                <h1 class="app-title">Local File Organizer</h1>
                <p class="app-subtitle">Organize your files intelligently</p>
            </div>
            
            <div class="action-section">
                <button id="select-directory-btn" class="primary-btn">
                    <i class="fas fa-folder-open"></i>
                    Organize Directory
                </button>
            </div>
            
            <div class="features-section">
                <div class="feature-item">
                    <i class="fas fa-brain"></i>
                    <span>AI-powered Organization</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-calendar-alt"></i>
                    <span>Date-based Organization</span>
                </div>
                <div class="feature-item">
                    <i class="fas fa-file-alt"></i>
                    <span>Type-based Organization</span>
                </div>
            </div>
        </div>
    </div>

    <!-- Screen 2: Organization Mode Selection -->
    <div id="mode-selection-screen" class="screen">
        <div class="mode-container">
            <div class="header">
                <button class="back-btn" onclick="showScreen('welcome-screen')">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2>Choose Organization Type</h2>
            </div>
            
            <div class="selected-path">
                <i class="fas fa-folder"></i>
                <span id="selected-path-text"></span>
            </div>
            
            <div class="mode-options">
                <div class="mode-option" data-mode="ai_content">
                    <div class="mode-icon">
                        <i class="fas fa-brain"></i>
                    </div>
                    <div class="mode-content">
                        <h3>By Content (AI-powered)</h3>
                        <p>Organize files using artificial intelligence to analyze content and create an intelligent structure</p>
                    </div>
                    <div class="mode-check">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
                
                <div class="mode-option" data-mode="date">
                    <div class="mode-icon">
                        <i class="fas fa-calendar-alt"></i>
                    </div>
                    <div class="mode-content">
                        <h3>By Date</h3>
                        <p>Organize files by modification date, creating folders by year and month</p>
                    </div>
                    <div class="mode-check">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
                
                <div class="mode-option" data-mode="type">
                    <div class="mode-icon">
                        <i class="fas fa-file-alt"></i>
                    </div>
                    <div class="mode-content">
                        <h3>By Type</h3>
                        <p>Organize files by extension type, separating into categories like images, documents, etc.</p>
                    </div>
                    <div class="mode-check">
                        <i class="fas fa-check"></i>
                    </div>
                </div>
            </div>
            
            <div class="search-toggle-section">
                <div class="toggle-container">
                    <label class="toggle-label">
                        <span>Recursive Search</span>
                        <div class="toggle-switch">
                            <input type="checkbox" id="recursive-search-toggle" checked>
                            <span class="toggle-slider"></span>
                        </div>
                        <span class="toggle-description">Search in all subfolders</span>
                    </label>
                </div>
                <div class="toggle-info">
                    <i class="fas fa-info-circle"></i>
                    <span>
                        <strong>Recursive Search:</strong> Organize files from all subfolders<br>
                        <strong>Simple Search:</strong> Organize only files from root folder
                    </span>
                </div>
            </div>
            
            <div class="mode-actions">
                <button id="continue-btn" class="primary-btn" disabled>
                    Continue
                    <i class="fas fa-arrow-right"></i>
                </button>
            </div>
        </div>
    </div>

    <!-- Screen 3: Review and Confirmation -->
    <div id="review-screen" class="screen">
        <div class="review-container">
            <div class="header">
                <button class="back-btn" onclick="showScreen('mode-selection-screen')">
                    <i class="fas fa-arrow-left"></i>
                </button>
                <h2>Review Organization</h2>
            </div>
            
            <div class="review-content">
                            <div class="comparison-section">
                <div class="current-structure">
                    <h3>Current Structure</h3>
                    <div class="os-indicator" id="current-os-indicator">
                        <i class="fas fa-desktop"></i>
                        <span>System: <span id="current-os-text">Detecting...</span></span>
                    </div>
                    <div class="tree-container">
                        <div id="current-tree" class="tree-view"></div>
                    </div>
                </div>
                
                <div class="arrow-separator">
                    <i class="fas fa-arrow-right"></i>
                </div>
                
                <div class="proposed-structure">
                    <h3>Proposed Structure</h3>
                    <div class="os-indicator" id="proposed-os-indicator">
                        <i class="fas fa-desktop"></i>
                        <span>System: <span id="proposed-os-text">Detecting...</span></span>
                    </div>
                    <div class="tree-container">
                        <div id="proposed-tree" class="tree-view"></div>
                    </div>
                </div>
            </div>
                
                <div class="mode-changer">
                    <label for="mode-select">Change mode:</label>
                    <select id="mode-select">
                        <option value="ai_content">By Content (AI-powered)</option>
                        <option value="date">By Date</option>
                        <option value="type">By Type</option>
                    </select>
                    <button id="refresh-btn" class="secondary-btn">
                        <i class="fas fa-sync-alt"></i>
                        Update
                    </button>
                </div>
                
                <div class="stats-section">
                    <div class="stat-item">
                        <i class="fas fa-folder"></i>
                        <span>Folders: <strong id="folder-count">0</strong></span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-file"></i>
                        <span>Files: <strong id="file-count">0</strong></span>
                    </div>
                    <div class="stat-item">
                        <i class="fas fa-hdd"></i>
                        <span>Size: <strong id="total-size">0 B</strong></span>
                    </div>
                </div>
                
                <div class="review-actions">
                    <button id="cancel-btn" class="danger-btn">
                        <i class="fas fa-times"></i>
                        Cancel
                    </button>
                    <button id="proceed-btn" class="primary-btn">
                        <i class="fas fa-check"></i>
                        Continue with Changes
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Screen 4: Success Confirmation -->
    <div id="success-screen" class="screen">
        <div class="success-container">
            <div class="success-icon">
                <i class="fas fa-check-circle"></i>
            </div>
            
            <h2>Organization Completed Successfully!</h2>
            
            <div class="success-details">
                <p>Your files have been organized as requested.</p>
                <div class="output-info">
                    <i class="fas fa-folder-open"></i>
                    <span>Files organized in: <strong id="output-path-text"></strong></span>
                </div>
            </div>
            
            <div class="success-actions">
                <button id="new-organization-btn" class="primary-btn">
                    <i class="fas fa-plus"></i>
                    New Organization
                </button>
                <button id="open-folder-btn" class="secondary-btn">
                    <i class="fas fa-external-link-alt"></i>
                    Open Folder
                </button>
            </div>
        </div>
    </div>

    <!-- Loading Overlay -->
    <div id="loading-overlay" class="loading-overlay hidden">
        <div class="loading-content">
            <div class="spinner"></div>
            <p id="loading-text">Processing...</p>
            <div class="progress-container hidden" id="progress-container">
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
                <p class="progress-text" id="progress-text">0%</p>
            </div>
        </div>
    </div>

    <script src="renderer.js"></script>
</body>
</html>
